# 3. 인터페이스의 또 다른 활용법
## 3.1 덕 타이핑
- 덕 타이핑이란? 
  - 동적 타이핑의 한 종류로, 객체의 변수 및 메소드의 집합이 객체의 타입을 결정하는 것을 말함.
  
- 주로 동적 형식dynamically typed) 언어에서 많이 활용
  - 동적 형식 언어
    - JavaScript, Ruby, Python 등
    - 자료형을 Run-time 시에 결정
    
- C#은 정적 형식(statically typed)언어.
  - 정적 형식 언어
    - C,C#,C++, Java
    - 자료형을 컴파일 시에 결정 하는 것

- 덕 테스트란 객체가 특정 인터페이스의 동적(behavior)을 수행하면 그 객체는 해당 인터페이스처럼 취급되어야 한다.(?).


```cs
namespace DuckTyping
{
    public interface IDuck
    {
        void Walk();

        void Swim();

        void Quack();
    }

    public class Swan
    {
        public void Walk()
        {
            Console.WriteLine("The swan is walking.");
        }

        public void Swim()
        {
            Console.WriteLine("The swan can swim like a duck.");
        }

        public void Quack()
        {
            Console.WriteLine("The swan is quacking.");
        }
    }
}
```



```cs
namespace TheInterface
{
    class Program
    {
        static void Main(string[] args)
        {
            var swan = new Swan();

            var swanAsDuck = swan as IDuck;

            if(swan is IDuck || swanAsDuck != null)
            {
                swanAsDuck.Walk();
                swanAsDuck.Swim();
                swanAsDuck.Quack();
            }
        }
    }
}
```

- CLR이 제공하는 동적 타입 확장(dynamic typing extension)을 사용하거나 혹은 Impromptu Interface라는 서드파티 라이브러리를 사용
  - 동적 언어 런타임 활용하기
    - 닷넷 프레임워크는 버전 4부터 더 이상 정적 타입을 강제하지 않는다.
    - dynamic 키워드 및 새로운 몇몇 타입을 통해 CLR의 정적 형식화를 피해 동적 언어 런타임의 동적 타입으로 전환이 가능.
    ```cs
    class Program
    {
        static void Main(string[] args)
        {
            var swan = new Swan();

            DoDuckLikeThings(swan);

            Console.ReadKey();
        }

        static void DoDuckLikeThings(dynamic duckish)
        {
            if (duckish != null)
            {
                duckish.Walk();
                duckish.Swim();
                duckish.Quack();
            }
        }
    }
    ```
    - dynamic 타입...
      - 대상 프레임 워크 버전을 닷넷 프레임워크 4로 지정
      - 동적 형식이 클라이언트에 맞추어 디자인되어야 한다.
      - 위 두가지 조건을 만족시켜야 함... 모든 메서드가 dynamic 타입의 매개변수를 사용하도록 정의할 수는 없으므로
  - Impromptu Interface 라이브러리 활용하기
      ```cs       
       static void Main(string[] args)
        {
            var swan = new Swan();

            var swanAsDuck = Impromptu.ActLike<IDuck>(swan);

            if(swanAsDuck != null)
            {
                swanAsDuck.Walk();
                swanAsDuck.Swim();
                swanAsDuck.Quack();
            }

            Console.ReadKey();
        }
      ```
      ```cs
      public interface IDuck
      {
        void Walk();

        void Swim();

        void Quack();
      }
      ```
      ```cs
      public class Swan
      {
        public void Walk()
        {
            Console.WriteLine("The swan is walking.");
        }

        public void Swim()
        {
            Console.WriteLine("The swan can swim like a duck.");
        }

        public void Quack()
        {
            Console.WriteLine("The swan is quacking.");
        }
      }
      ```
   - nuget으로 설치했는데... 왜 빨간줄 나오지...???


## 3.2 믹스인
## 3.3 능동형 인터페이스
